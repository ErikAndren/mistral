

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mistral documentation 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> Mistral documentation
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-cyclonev_fpga">The Cyclone V FPGA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#the-fpgas">The FPGAs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#bitstream-stucture">Bitstream stucture</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#logic-blocks">Logic blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#routing-network">Routing network</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#programmable-inverters">Programmable inverters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-cyclonev_details">CycloneV internals description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#routing-network">Routing network</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#inner-logic-blocks">Inner logic blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#lab">LAB</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#mlab">MLAB</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#dsp">DSP</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#m10k">M10K</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#peripheral-logic-blocks">Peripheral logic blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#gpio">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#dqs16">DQS16</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#fpll">FPLL</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#cmux">CMUX</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#ctrl">CTRL</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#hssi">HSSI</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#hip">HIP</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#dll">DLL</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#serpar">SERPAR</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#lvl">LVL</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#term">TERM</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#pma3">PMA3</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#hmc">HMC</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#hps">HPS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-boot">HPS_BOOT</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-clocks">HPS_CLOCKS</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-clocks-resets">HPS_CLOCKS_RESETS</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-cross-trigger">HPS_CROSS_TRIGGER</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-dbg-apb">HPS_DBG_APB</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-dma">HPS_DMA</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-fpga2hps">HPS_FPGA2HPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-fpga2sdram">HPS_FPGA2SDRAM</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-hps2fpga">HPS_HPS2FPGA</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-hps2fpga-light-weight">HPS_HPS2FPGA_LIGHT_WEIGHT</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-interrupts">HPS_INTERRUPTS</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-jtag">HPS_JTAG</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-loan-io">HPS_LOAN_IO</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-mpu-event-standby">HPS_MPU_EVENT_STANDBY</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-mpu-general-purpose">HPS_MPU_GENERAL_PURPOSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-can">HPS_PERIPHERAL_CAN</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-emac">HPS_PERIPHERAL_EMAC</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-i2c">HPS_PERIPHERAL_I2C</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-nand">HPS_PERIPHERAL_NAND</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-qspi">HPS_PERIPHERAL_QSPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-sdmmc">HPS_PERIPHERAL_SDMMC</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-spi-master">HPS_PERIPHERAL_SPI_MASTER</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-spi-slave">HPS_PERIPHERAL_SPI_SLAVE</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-uart">HPS_PERIPHERAL_UART</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-peripheral-usb">HPS_PERIPHERAL_USB</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-stm-event">HPS_STM_EVENT</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-test">HPS_TEST</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#hps-tpiu-trace">HPS_TPIU_TRACE</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Mistral documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Mistral documentation 1.0 documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mistral-a-cyclone-v-fpga-bitstream-library">
<h1>Mistral - a Cyclone V FPGA bitstream library<a class="headerlink" href="#mistral-a-cyclone-v-fpga-bitstream-library" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-cyclonev_fpga"></span><div class="section" id="the-cyclone-v-fpga">
<h2>The Cyclone V FPGA<a class="headerlink" href="#the-cyclone-v-fpga" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-fpgas">
<h3>The FPGAs<a class="headerlink" href="#the-fpgas" title="Permalink to this headline">¶</a></h3>
<p>The Cyclone V is a series of FPGAs produced initially by Altera, now
Intel.  It is based on a series of seven dies with varying levels of
capability, which is then derived into more than 400 SKUs with
variations in speed, temperature range, and enabled internal hardware.</p>
<p>As pretty much every FPGA out there, the dies are organized in grids.</p>
<div class="figure align-default" id="id1">
<a class="reference internal image-reference" href="_images/floorplans.svg"><img alt="_images/floorplans.svg" src="_images/floorplans.svg" width="100%" /></a>
<p class="caption"><span class="caption-text">Floor plan of the seven die types</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The FPGA, structurally, is a set of logic blocks of different types
communicating with each other either through direct links or through a
large routing network that spans the whole grid.</p>
<p>Some of the logic blocks take visible floor space.  Specifically, the
notches on the left are the space taken by the high speed serial
interfaces (hssi and pma3).  Also, the top-right corner in the sx50f
and sx120f variants is used to fit the hps, a dual-core arm.</p>
</div>
<div class="section" id="bitstream-stucture">
<h3>Bitstream stucture<a class="headerlink" href="#bitstream-stucture" title="Permalink to this headline">¶</a></h3>
<p>The bitstream is build from three rams:</p>
<ul class="simple">
<li><p>Option ram</p></li>
<li><p>Peripheral ram</p></li>
<li><p>Configuration ram</p></li>
</ul>
<p>The option ram is composed of 32 blocks of 40 bits, of which only 12
are actually used.  It includes the global configurations for the
chip, such as the jtag user id, the programming voltage, the internal
oscillator configuration, etc.</p>
<p>The peripheral ram stores the configuration of all the blocks situated
on the borders of the chip, e.g. everything outside of labs, mlabs,
dsps and m10ks.  It is build of 13 to 16 blocks of bits that are sent
through shift registers to the tiles.</p>
<p>The configuration ram stores the configuration of the labs, mlabs,
dsps and m10ks, plus all the routing configuration.  It also includes
the programmable inverters which allows inverting essentially all the
inputs to the peripheral blocks.  It is organised as a rectangle of
bits.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 24%" />
<col style="width: 21%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Die</p></th>
<th class="head"><p>Tiles</p></th>
<th class="head"><p>Pram</p></th>
<th class="head"><p>Cram</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>e50f</p></td>
<td><p>55x46</p></td>
<td><p>51101</p></td>
<td><p>4958x3928</p></td>
</tr>
<tr class="row-odd"><td><p>gx25f</p></td>
<td><p>49x40</p></td>
<td><p>54083</p></td>
<td><p>3856x3412</p></td>
</tr>
<tr class="row-even"><td><p>gt75f</p></td>
<td><p>69x62</p></td>
<td><p>90162</p></td>
<td><p>6006x5304</p></td>
</tr>
<tr class="row-odd"><td><p>gt150f</p></td>
<td><p>90x82</p></td>
<td><p>113922</p></td>
<td><p>7605x7024</p></td>
</tr>
<tr class="row-even"><td><p>gt300f</p></td>
<td><p>122x116</p></td>
<td><p>130828</p></td>
<td><p>10038x9948</p></td>
</tr>
<tr class="row-odd"><td><p>sx50f</p></td>
<td><p>69x62</p></td>
<td><p>80505</p></td>
<td><p>6006x5304</p></td>
</tr>
<tr class="row-even"><td><p>sx120f</p></td>
<td><p>90x82</p></td>
<td><p>99574</p></td>
<td><p>7605x7024</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="logic-blocks">
<h3>Logic blocks<a class="headerlink" href="#logic-blocks" title="Permalink to this headline">¶</a></h3>
<p>The logic blocks are of two categories, the inner blocks and the
peripheral blocks.  To a first approximation all the inner blocks are
configured through configuration ram, and the peripheral blocks
through the peripheral ram.  It only matters where it comes to partial
reconfiguration, because only the configuration ram can be dynamically
modified.  We do not yet support it though.</p>
<p>The inner blocks are:</p>
<ul class="simple">
<li><p>lab: a logic blocks group with 20 LUTs with 5 inputs and 40 Flip-Flops.</p></li>
<li><p>mlab: a lab that can be reconfigured as 64*20 bits of ram</p></li>
<li><p>dsp: a flexible multiply-add block</p></li>
<li><p>m10k: a block of 10240 bits of dual-ported memory</p></li>
</ul>
<p>The peripheral blocks are:</p>
<ul class="simple">
<li><p>gpio: general-purpose i/o, a block that controls up to 4 package pins</p></li>
<li><p>dqs16: a block that manage differential input/output for 4 gpio blocks, e.g. up to 16 pins</p></li>
<li><p>fpll: a fractional PLL</p></li>
<li><p>cmux: the clock muxes that drive the clock part of the routing network</p></li>
<li><p>ctrl: the control block with things like jtag</p></li>
<li><p>hssi: the high speed serial interfaces</p></li>
<li><p>hip: the pcie interfaces</p></li>
<li><p>cbuf: a clock buffer for the dqs16</p></li>
<li><p>dll: a delay-locked loop for the dqs16</p></li>
<li><p>serpar: TODO</p></li>
<li><p>lvl: TODO</p></li>
<li><p>term: termination control blocks</p></li>
<li><p>pma3: manages the channels of the hssi</p></li>
<li><p>hmc: hardware memory controller, a block managing sdr/ddr ram interfaces</p></li>
<li><p>hps: a series of 37 blocks managing the interface with the integrated dual-core arm</p></li>
</ul>
<p>All of these blocks are configured similarly, through the setup of
block muxes.  They can be of 4 types:
* Boolean
* Symbolic, where the choice is between alphanumeric states
* Numeric, where the choice is between a fixed set of numeric value
* Ram, where a series of bits can be set to any value</p>
<p>Configuring that part of the FPGA consists of configuring the muxes
associated to each block.</p>
</div>
<div class="section" id="routing-network">
<h3>Routing network<a class="headerlink" href="#routing-network" title="Permalink to this headline">¶</a></h3>
<p>A massive routing network is present all over the FPGA.  It has two
almost-disjoint parts.  The data network has a series of inputs,
connected to the outputs of all the blocks, and a series of outputs
that go to data inputs of the blocks.  The clock network consists of
16 global clocks signals that cover the whole FPGA, up to 88 regional
clocks that cover an half of the FPGA, and when an hssi is present a
series of horizontal peripheral clocks that are driven by the serial
communications.  Global and regional clock signals are driven by
dedicated cmux blocks (not the fpll in particular, but they do have
dedicated connections to the cmuxes).</p>
<p>These two networks join on data/clock muxes, which allow peripheral
blocks to select for their clock-like inputs which network the signal
should come from.</p>
</div>
<div class="section" id="programmable-inverters">
<h3>Programmable inverters<a class="headerlink" href="#programmable-inverters" title="Permalink to this headline">¶</a></h3>
<p>Essentially every output of the routing network that enters a
peripheral block can optionally be inverted by activating the
associated configuration bit.</p>
</div>
</div>
<span id="document-cyclonev_details"></span><div class="section" id="cyclonev-internals-description">
<h2>CycloneV internals description<a class="headerlink" href="#cyclonev-internals-description" title="Permalink to this headline">¶</a></h2>
<div class="section" id="routing-network">
<h3>Routing network<a class="headerlink" href="#routing-network" title="Permalink to this headline">¶</a></h3>
<p>The routing network follows a single-driver structure: a number of
inputs are grouped together in one place, one is selected through the
configuration, then it is amplified and used to drive a metal line.
There is also usually one bit configuration to disable the driver,
which can be all-off (probably leaving the line floating) or a
specific combination to select vcc.  The drivers correspond to a 2d
pattern in the configuration ram.  There are 70 different patterns,
configured by 1 to 18 bits and mixing 1 to 44 inputs.</p>
<p>The network itself can be split in two parts: the data network and the
clock network.</p>
<p>The data network is a grid of connections.  Horizontal lines (H14, H6
and H3, numbered by the number of tiles they span) and vertical lines
(V12, V4 and V2) helped by wire muxes (WM) connect to each over to
ensure routing over the whole surface.  Then at the tile level
tile-data dispatch (TD) nodes allow to select between the available
signals.</p>
<p>Generic output (GOUT) nodes then select between TD nodes to connect to
logic blocks inputs.  Logic block outputs go to Generic Input (GIN)
nodes which feed in the connections.  In addition a dedicated network,
the Loopback dispatch (LD) connects some of the outputs from the
labs/mlabs to their inputs for fast local data routing.</p>
<p>The clock network is more of a top-down structure.  The top structures
are Global clocks (GCLK), Regional clocks (RCLK) and Peripheral clocks
(PCLK).  They’re all driven by specialized logic blocks we call Clock
Muxes (cmux).  There are two horizontal cmux in the middle of the top
and bottom borders, each driving 4 GCLK and 20 RCLK, two vertical in
the middle of the left and right borders each driving 4 GCLK and 12
RCLK, and 3 to 4 in the corners driving 6 RCLK each.  The dies
including an HPS (sx50f and sx120f) are missing the top-right cmux
plus some of the middle-of-border-driven RCLK.  That gives a total of
16 GCLK and 66 to 88 RCLK.  In addition PCLK start from HSSI blocks to
distribute serial clocks to the network.</p>
<p>The GCLK span the whole grid.  A RCLK spans half the grid.  A PCLK
spans a number of tiles horizontally to its right.</p>
<p>The second level is Sector clocks, SCLK, which spans small rectangular
zones of tiles and connect from GCLK, RCLK and PCLK.  The on the third
level, connecting from SCLK, is Horizontal clocks (HCLK) spanning
10-15 horizontal tiles and Border clocks (BCLK) rooted regularly on
the top and bottom borders.  Finally Tile clocks (TCLK) connect from
HCLK and BCLK and distribute the clocks within a tile.</p>
<p>In addition the PMUX nodes at the entrance of plls select between
SCLKs, and the GCLKFB and RCLKFB bring back feedback signals from the
cmux to the pll.</p>
<p>Inner blocks directly connect to TCLK and have internal muxes to
select between clock and data inputs for their control.  Peripheral
blocks tend to use a secondary structure composed from a TDMUX that
selects one TD between multiple ones followed by a DCMUX that selects
between the TDMUX and a TCLK so that their clock-like inputs can be
driven from either a clock or a data signal.</p>
<p>Most GOUT and DCMUX connected to inputs to peripheral blocks are also
provided with an optional inverter.</p>
</div>
<div class="section" id="inner-logic-blocks">
<h3>Inner logic blocks<a class="headerlink" href="#inner-logic-blocks" title="Permalink to this headline">¶</a></h3>
<div class="section" id="lab">
<h4>LAB<a class="headerlink" href="#lab" title="Permalink to this headline">¶</a></h4>
<p>The LABs are the main combinatorial and register blocks of the FPGA.
A LAB tile includes 10 sub-blocks with 64 bits of LUT splitted in 6
parts, four Flip-Flops, two 1-bit adders and a lot of routing logic.
In addition a common control subblock selects and dispatches clock,
enable, clear, etc signals.</p>
</div>
<div class="section" id="mlab">
<h4>MLAB<a class="headerlink" href="#mlab" title="Permalink to this headline">¶</a></h4>
<p>A MLAB is a lab that can optionally be turned into a 640-bits RAM or
ROM.  The wiring is identical to the LAB, only some additional muxes
are provided to select the RAM/ROM mode.</p>
<p>TODO: address/data wiring in RAM/ROM mode.</p>
</div>
<div class="section" id="dsp">
<h4>DSP<a class="headerlink" href="#dsp" title="Permalink to this headline">¶</a></h4>
<p>The DSP blocks provide a multiply-adder with either three 9x9, two
18x18 or one 27x27 multiply, and the 64-bits accumulator.  Its large
number of inputs and output makes it span two tiles vertically.</p>
<p>TODO: everything</p>
</div>
<div class="section" id="m10k">
<h4>M10K<a class="headerlink" href="#m10k" title="Permalink to this headline">¶</a></h4>
<p>The M10K blocks provide 10240 (256*40) bits of dual-ported rom or ram.</p>
<p>TODO: everything</p>
</div>
</div>
<div class="section" id="peripheral-logic-blocks">
<h3>Peripheral logic blocks<a class="headerlink" href="#peripheral-logic-blocks" title="Permalink to this headline">¶</a></h3>
<div class="section" id="gpio">
<h4>GPIO<a class="headerlink" href="#gpio" title="Permalink to this headline">¶</a></h4>
<p>The GPIO blocks connect the FPGA with the exterior through the package
pins.  Each block controls 4 pads, which are connected to up to 4
pins.</p>
<p>TODO: everything, GOUT/GIN/DCMUX mapping is done</p>
</div>
<div class="section" id="dqs16">
<h4>DQS16<a class="headerlink" href="#dqs16" title="Permalink to this headline">¶</a></h4>
<p>The DQS16 blocks handle differential signaling protocols.  Each
supervises 4 GPIO blocks for a total of 16 signals, hence their name.</p>
<p>TODO: everything</p>
</div>
<div class="section" id="fpll">
<h4>FPLL<a class="headerlink" href="#fpll" title="Permalink to this headline">¶</a></h4>
<p>The Fractional PLL blocks synthesize 9 frequencies from an input with integer or fractional ratios.</p>
<p>TODO: everything, GOUT/GIN/DCMUX mapping is done</p>
</div>
<div class="section" id="cmux">
<h4>CMUX<a class="headerlink" href="#cmux" title="Permalink to this headline">¶</a></h4>
<p>The Clock mux blocks drive the GCLK and the RCLK.</p>
<p>TODO: fpll feedback lines</p>
</div>
<div class="section" id="ctrl">
<h4>CTRL<a class="headerlink" href="#ctrl" title="Permalink to this headline">¶</a></h4>
<p>The Control block gives access to a number of anciliary functions of the FPGA.</p>
<p>TODO: everything, GOUT/GIN/DCMUX mapping is done</p>
</div>
<div class="section" id="hssi">
<h4>HSSI<a class="headerlink" href="#hssi" title="Permalink to this headline">¶</a></h4>
<p>The High speed serial interface blocks control the
serializing/deserializing capabilities of the FPGA.</p>
<p>TODO: everything</p>
</div>
<div class="section" id="hip">
<h4>HIP<a class="headerlink" href="#hip" title="Permalink to this headline">¶</a></h4>
<p>The PCIe Hard-IP blocks control the PCIe interfaces of the FPGA.</p>
<p>TODO: everything</p>
</div>
<div class="section" id="dll">
<h4>DLL<a class="headerlink" href="#dll" title="Permalink to this headline">¶</a></h4>
<p>The Delay-Locked loop does phase control for the DQS16.</p>
<p>TODO: everything</p>
</div>
<div class="section" id="serpar">
<h4>SERPAR<a class="headerlink" href="#serpar" title="Permalink to this headline">¶</a></h4>
<p>Unclear yet.</p>
<p>TODO: everything</p>
</div>
<div class="section" id="lvl">
<h4>LVL<a class="headerlink" href="#lvl" title="Permalink to this headline">¶</a></h4>
<p>The Leveling Delay Chain does something linked to the DQS16.</p>
<p>TODO: everything</p>
</div>
<div class="section" id="term">
<h4>TERM<a class="headerlink" href="#term" title="Permalink to this headline">¶</a></h4>
<p>The TERM blocks control the On-Chip Termination circuitry</p>
<p>TODO: everything</p>
</div>
<div class="section" id="pma3">
<h4>PMA3<a class="headerlink" href="#pma3" title="Permalink to this headline">¶</a></h4>
<p>The PMA3 blocks control triplets of channels used with the HSSI.</p>
<p>TODO: everything</p>
</div>
<div class="section" id="hmc">
<h4>HMC<a class="headerlink" href="#hmc" title="Permalink to this headline">¶</a></h4>
<p>The Hardware memory controller controls sets of GPIOs to implement
modern SDR and DDR memory interfaces.  In the sx dies one of them is
taken over by the HPS.  They can be bypassed in favor of direct access
to the GPIOs.</p>
<p>TODO: everything, and in particular the hmc-input -&gt; GPIO input
mapping when bypassed.</p>
</div>
<div class="section" id="hps">
<h4>HPS<a class="headerlink" href="#hps" title="Permalink to this headline">¶</a></h4>
<p>The interface between the FPGA and the Hard processor system is done
through 37 specialized blocks or 28 different types.</p>
<p>TODO: everything.  GOUT/GIN/DCMUX mapping is done except for HPS_CLOCKS.</p>
<div class="section" id="hps-boot">
<h5>HPS_BOOT<a class="headerlink" href="#hps-boot" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-clocks">
<h5>HPS_CLOCKS<a class="headerlink" href="#hps-clocks" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-clocks-resets">
<h5>HPS_CLOCKS_RESETS<a class="headerlink" href="#hps-clocks-resets" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-cross-trigger">
<h5>HPS_CROSS_TRIGGER<a class="headerlink" href="#hps-cross-trigger" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-dbg-apb">
<h5>HPS_DBG_APB<a class="headerlink" href="#hps-dbg-apb" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-dma">
<h5>HPS_DMA<a class="headerlink" href="#hps-dma" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-fpga2hps">
<h5>HPS_FPGA2HPS<a class="headerlink" href="#hps-fpga2hps" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-fpga2sdram">
<h5>HPS_FPGA2SDRAM<a class="headerlink" href="#hps-fpga2sdram" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-hps2fpga">
<h5>HPS_HPS2FPGA<a class="headerlink" href="#hps-hps2fpga" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-hps2fpga-light-weight">
<h5>HPS_HPS2FPGA_LIGHT_WEIGHT<a class="headerlink" href="#hps-hps2fpga-light-weight" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-interrupts">
<h5>HPS_INTERRUPTS<a class="headerlink" href="#hps-interrupts" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-jtag">
<h5>HPS_JTAG<a class="headerlink" href="#hps-jtag" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-loan-io">
<h5>HPS_LOAN_IO<a class="headerlink" href="#hps-loan-io" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-mpu-event-standby">
<h5>HPS_MPU_EVENT_STANDBY<a class="headerlink" href="#hps-mpu-event-standby" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-mpu-general-purpose">
<h5>HPS_MPU_GENERAL_PURPOSE<a class="headerlink" href="#hps-mpu-general-purpose" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-peripheral-can">
<h5>HPS_PERIPHERAL_CAN<a class="headerlink" href="#hps-peripheral-can" title="Permalink to this headline">¶</a></h5>
<p>(2 blocks)</p>
</div>
<div class="section" id="hps-peripheral-emac">
<h5>HPS_PERIPHERAL_EMAC<a class="headerlink" href="#hps-peripheral-emac" title="Permalink to this headline">¶</a></h5>
<p>(2 blocks)</p>
</div>
<div class="section" id="hps-peripheral-i2c">
<h5>HPS_PERIPHERAL_I2C<a class="headerlink" href="#hps-peripheral-i2c" title="Permalink to this headline">¶</a></h5>
<p>(4 blocks)</p>
</div>
<div class="section" id="hps-peripheral-nand">
<h5>HPS_PERIPHERAL_NAND<a class="headerlink" href="#hps-peripheral-nand" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-peripheral-qspi">
<h5>HPS_PERIPHERAL_QSPI<a class="headerlink" href="#hps-peripheral-qspi" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-peripheral-sdmmc">
<h5>HPS_PERIPHERAL_SDMMC<a class="headerlink" href="#hps-peripheral-sdmmc" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-peripheral-spi-master">
<h5>HPS_PERIPHERAL_SPI_MASTER<a class="headerlink" href="#hps-peripheral-spi-master" title="Permalink to this headline">¶</a></h5>
<p>(2 blocks)</p>
</div>
<div class="section" id="hps-peripheral-spi-slave">
<h5>HPS_PERIPHERAL_SPI_SLAVE<a class="headerlink" href="#hps-peripheral-spi-slave" title="Permalink to this headline">¶</a></h5>
<p>(2 blocks)</p>
</div>
<div class="section" id="hps-peripheral-uart">
<h5>HPS_PERIPHERAL_UART<a class="headerlink" href="#hps-peripheral-uart" title="Permalink to this headline">¶</a></h5>
<p>(2 blocks)</p>
</div>
<div class="section" id="hps-peripheral-usb">
<h5>HPS_PERIPHERAL_USB<a class="headerlink" href="#hps-peripheral-usb" title="Permalink to this headline">¶</a></h5>
<p>(2 blocks)</p>
</div>
<div class="section" id="hps-stm-event">
<h5>HPS_STM_EVENT<a class="headerlink" href="#hps-stm-event" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-test">
<h5>HPS_TEST<a class="headerlink" href="#hps-test" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="hps-tpiu-trace">
<h5>HPS_TPIU_TRACE<a class="headerlink" href="#hps-tpiu-trace" title="Permalink to this headline">¶</a></h5>
</div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>